<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="pointer-element.html">
<link rel="import" href="../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">

<polymer-element name="image-element" attributes="images current cursor showControls showCover" >
	<template>
            <pointer-element  position="{{cursor}}" >
                <img  src="{{images[current]}}" />
            </pointer-element>
            <div>
                <paper-button  on-click="{{previous}}" disabled?="{{current == 0}}" hidden?="{{!showControls}}">
                     <core-icon-button icon="arrow-back"></core-icon-button>
                </paper-button>
                <paper-button  on-click="{{next}}" disabled?="{{current >= images.length -1}}" hidden?="{{!showControls}}">
                    <core-icon-button icon="arrow-forward"></core-icon-button>
                </paper-button>
                <paper-button on-click="{{setAsCover}}"  hidden?="{{!showCover}}" raised="" >Set as cover</paper-button>
            </div>
    		<link rel="stylesheet" href="../css/image.css" />
	</template>
	<script>
		Polymer( {
			created: function() {
                this.images = [];
                this.current = 0;
                this.index = 0;
                this.showControls = true;
                this.showCover = false;
			},
                    
            next: function () {
                this.current += 1;
            },

            previous: function () {
                if (this.current > 0){
                    this.current -= 1;                
                }
            },

            setAsCover: function() {
                this.fire('cover', {src: this.images[this.current]});
            }

        });
	</script>
</polymer-element>